notextile. <div class="txp-layout">
<div class="txp-layout-1col">

h1(txp-heading). oui_player beta (formerly oui_video)

notextile. </div>
<div class="txp-layout-4col-alt">
<section class="txp-details">

h3. Table of contents

notextile. <div role="group">

*(switcher-list) "Plugin requirements":#requirements
* "Basics":#basics
* "Installation":#install
* "Extending":#extend
* "Preferences/options":#prefs
* "Tags":#tags
**{list-style:none; padding-left:0;}.
**{padding-left:2em;} "oui_player":#oui_player
***{list-style:none; padding-left:0; margin-left:-2em;}.
***{padding-left:4em;} "Presentational attributes":#presentational
***{padding-left:4em;} "Main tag attributes":#main
***{padding-left:4em;} "Vimeo player attributes":#vimeo
***{padding-left:4em;} "Youtube player attributes":#youtube
***{padding-left:4em;} "Dailymotion player attributes":#dailymotion
***{padding-left:4em;} "Myspace videos player attributes":#myspace
***{padding-left:4em;} "ABC News player attributes":#abc
***{padding-left:4em;} "Twitch player attributes":#twitch
***{padding-left:4em;} "Soundcloud player attributes":#soundcloud
***{padding-left:4em;} "Mixcloud player attributes":#mixcloud
**{padding-left:2em;} "oui_if_player":#oui_if_player
* "Examples":#examples
* "Author":#author
* "License":#Licence

notextile. </div>
</section>

"(navlink)See on GitHub":https://github.com/NicolasGraph/oui_instagram "(navlink)Donate":https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=PREHX3MZMXEUN

notextile. </div>
<div class="txp-layout-4col-3span">

notextile. <hr id="basics" />

h2. Basics

Easily embed customised players.

notextile. <hr id="requirements" />

h2. Plugin requirements

oui_player's minimum requirements:

* "Textpattern CMS":http://textpattern.com/ 4.6+.

notextile. <hr id="install" />

h2. Installation

# "Download":https://github.com/NicolasGraph/oui_player/releases the compiled plugin file, or, better, download the source and edit the manifest.json file to only include needed providers before to compile the plugin with the "MassPlugCompiler":https://github.com/gocom/MassPlugCompiler. Most frequently used providers should be included first to increase the plugin perfomances.
# Paste the content of the plugin file under the *Admin > Plugins*, upload it and install;
# Click _Options_ or visit your *Admin>Preferences* tab to fill the plugin prefs.

notextile. <hr id="extend" />

h2. Extending

Once another provider as been added, the plugin just need to be disable and re-enable to set the nex prefs, keeping existing prefs untouched.

notextile. <hr id="prefs" />

h2. Preferences/options

Plugin prefs are mainly used as default values for the @<txp:oui_player />@ tag attributes.
They can be overriden by these attributes when needed.

+Always prefer plugin "global" prefs to tag related attributes!+

notextile. <hr id="tags" />

h2. Tags

h3(#oui_player). oui_player

Embeds a video in the page using an iframe.

bc. <txp:oui_player />

h4(#presentational). Presentational attributes

- @label@ :=
Label for the video.
*default:* none
*valid:* string =:
- @labeltag@ :=
HTML wraptag for the label, without brackets.
*default:* none
*valid:* HTML container tag =:
- @wraptag@ :=
HTML tag to be used as the content wraptag, without brackets.
*default:* none
*valid:* HTML container tag =:
- @class@ :=
CSS class for HTML content wraptag.
*default:* none
*valid:* string =:

h4(#main). Main tag attributes

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+

- @play@ :=
The item to play (Soundcloud accepts URL's only and Twitch id's must be prefixed with a @v@).
*default:* none
*valid:* URL, id or custom field name =:
- @provider@ :=
The provider to use; required if the @play@ attribute is an id, recommended anyway if known as it increases the plugin performances.
*default:* plugin pref
*valid:* a defined provider

h4(#vimeo). Vimeo additional attributes

Recognised values for the @play@ attribute:

* *id* (requires @provider="vimeo"@)
* http(s)://vimeo.com/[*id*]
* http(s)://player.vimeo.com/video/[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+
More informations on "this Vimeo webpage":https://developer.vimeo.com/player/embedding.

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* @640@
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h5. Player parameters (aplhabetical order)

- @autopause@ :=
Enables or disables pausing this video when another video is played.
*default:* @1@
*valid:* @0@ or @1@ =:
- @autoplay@ :=
Play the video automatically on load. Note that this won’t work on some devices.
*default:* @0@
*valid:* @0@ or @1@ =:
- @badge@ :=
Enables or disables the badge on the video.
*default:* @1@
*valid:* @0@ or @1@ =:
- @byline@ :=
Show the user’s byline on the video.
*default:* @1@
*valid:* @0@ or @1@ =:
- @color@ :=
Specify the color of the video controls. Make sure that you don’t include the #.
*default:* @00adef@
*valid:* a hexa color value =:
- @loop@ :=
Play the video again when it reaches the end.
*default:* @0@
*valid:* @0@ or @1@ =:
- @portrait@ :=
Show the user’s portrait on the video.
*default:* @1@
*valid:* @0@ or @1@ =:
- @title@ :=
Show the title on the video.
*default:* @1@
*valid:* @0@ or @1@ =:

h4(#youtube). Youtube additional attributes

Recognised values for the @play@ attribute:

* *id* (requires @provider="youtube"@)
* http(s)://(www.)youtu.be/[*id*]
* http(s)://(www.)youtube.com/v/[*id*]
* http(s)://(www.)youtube.com/watch?v=[*id*]
* http(s)://(www.)youtube.com/embed/[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+
Some prefs/attributes may be deprecated for HTML5 players or overriden by the provider depending on several conditions.
More informations on "this Youtube webpage":https://developers.google.com/youtube/player_parameters.

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* @640@
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h5. Player parameters (aplhabetical order)

- @autohide@ :=
Indicates whether the video controls will automatically hide after a video begins playing.
This parameter has been deprecated for HTML5 players, which display or hide the video progress bar and player controls automatically (autohide=1).
*default:* @2@
*valid:* @0@, @1@ or @2@ =:
- @autoplay@ :=
Specifies whether the initial video will automatically start to play when the player loads.
*default:* @0@
*valid:* @0@ or @1@ =:
- @cc_load_policy@ :=
1 causes closed captions to be shown by default, even if the user has turned captions off.
*default:* @0@
*valid:* @1@ =:
- @color@ :=
Specifies the color used in the player's progress bar.
*default:* @red@
*valid:* @red@ or @white@ =:
- @controls@ :=
Indicates whether the video player controls are displayed.
*default:* @1@
*valid:* @0@, @1@ or @2@ =:
- @disablekb@ :=
Disables keyboard commands.
*default:* @0@
*valid:* @0@ or @1@ =:
- @end@ :=
Specifies the time, measured in seconds, when the player should stop playing the video.
*default:* none
*valid:* an integer =:
- @fs@ :=
Setting this parameter to 0 prevents the fullscreen button from displaying in the player.
*default:* @1@
*valid:* @0@ or @1@ =:
- @hl@ :=
Sets the player's interface language.
*default:* none
*valid:* an ISO 639-1 two-letter language code or a fully specified locale.
- @iv_load_policy@ :=
Setting the parameter's value to 1 causes video annotations to be shown by default.
*default:* @1@
*valid:* @1@ or @3@ =:
- @loop@ :=
Causes the player to play the video again and again.
*default:* @0@
*valid:* @0@ or @1@ =:
- @modestbranding@ :=
Lets you use a YouTube player that does not show a YouTube logo.
*default:* @0@
*valid:* @0@ or @1@ =:
- @playlist@ :=
A list of video id's to read after the one provided via the @video@ attribute.
*default:* none
*valid:* a comma separeted list of video id's =:
- @playsinline@ :=
Controls whether videos play inline or fullscreen in an HTML5 player on iOS.
*default:* none
*valid:* =:
- @rel@ :=
Indicates whether the player should show related videos when playback of the initial video ends.
*default:* @1@
*valid:* @0@ or @1@ =:
- @showinfo@ :=
Whether to display the video informations or not.
*default:* @1@
*valid:* @0@ or @1@ =:
- @start@ :=
Specifies the time (in seconds) when the video should start playing.
*default:* none
*valid:* an integer =:
- @theme@ :=
Indicates whether the embedded player will display player controls (like a play button or volume control) within a dark or light control bar.
This parameter has been deprecated for HTML5 players.
*default:* @dark@
*valid:* @dark@ or @light@ =:

h4(#dailymotion). Dailymotion additional attributes

Recognised values for the @play@ attribute:

* *id* (requires @provider="dailymotion"@)
* http(s)://dai.ly/[*id*]
* http(s)://www.dailymotion.com/video/[*id*]…
* http(s)://www.dailymotion.com/embed/video/[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+
Some prefs/attributes may be deprecated for HTML5 players or overriden by the provider depending on several conditions.
More informations on "this Dailymotion webpage":https://developer.dailymotion.com/player#player-parameters.

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* @640@
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h5. Player parameters (aplhabetical order)

- @autoplay@ :=
Starts the playback of the video automatically after the player load.
This parameter may not work on some mobile OS.
*default:* @false@
*valid:* @true@ or @false@ =:
- @controls@ :=
Whether to display the player controls or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @endscreen_enable@ :=
Whether to enable the end screen or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @mute@ :=
Whether to mute the video or not.
*default:* @false@
*valid:* @true@ or @false@ =:
- @quality@ :=
Set the suggested playback quality for the video.
*default:* @auto@
*valid:* @240@, @380@, @480@, @720@, @1080@, @1440@ or @2160@ =:
- @sharing_enable@ :=
Whether to display the sharing button or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @start@ :=
Specifies the time (in seconds) from which the video should start playing.
*default:* none
*valid:* an integer =:
- @subtitles_default@ :=
Specifies the default selected subtitles language.
*default:* none =:
- @syndication@ :=
Passes your syndication key to the player.
*default:* none =:
- @ui_highlight@ :=
Changes the default colour used in the controls.
*Default:* @ffcc33@
*valid:* a hexa color value =:
- @ui_logo@ :=
Whether to display the Dailymotion logo or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @ui_start_screen_info@ :=
Whether to show video information on the start screen or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @ui_theme@ :=
Choose the default base colour theme.
*default:* @dark@
*valid:* @dark@ or @light@ =:

h4(#myspace). Myspace videos additional attributes

Recognised values for the @play@ attribute:

* *id* (requires @provider="myspace"@)
* http(s)://myspace.com/…/video/…/[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* none
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h4(#abc). Abc News additional attributes

Recognised values for the @play@ attribute:

* *id* (requires @provider="abcnews"@)
* http(s)://abcnews.go.com/…/video/…[*id*]
* http(s)://abcnews.go.com/video/embed?id=[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* none
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h5. Player parameters (aplhabetical order)

- @ts@ :=
Starts playing the video at the defined second.
*Default:* @0@
*Valid:* @0@ or @1@

h4(#twitch). Twitch additional attributes

This plugin reads Twitch videos only for now, not channels.

Recognised values for the @play@ attribute:

* v[*id*] (requires @provider="twitch"@)
* http(s)://(www.)twitch.tv/…/v/[*id*]

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+
More informations on "this GitHub webpage":https://github.com/justintv/Twitch-API/blob/master/embed-video.md.

- @width@ :=
The width of the player in pixels.
*default:* @640@
*valid:* integer =:
- @height@ :=
*default:* none
*valid:* integer
The height of the player in pixels. =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* @16:9@
*valid:* integer@:@integer =:

h5. Player parameters (aplhabetical order)

- @autoplay@ :=
Whether to play after loading or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @muted@ :=
Whether to disable sound by default or not.
*default:* @false@
*valid:* @true@ or @false@ =:
- @time@ :=
Starts playback at the given timestamp.
*default:* @true@
*Format:* @1h2m3s@ =:

h4(#soundcloud). Soundcloud additional attributes

Recognised values for the @play@ attribute:

* http(s)://(api.)soundcloud.com/…

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+
Some prefs/attributes can conditionate the behavior of others (e.g. @visual="true"@ desactivates @color@).

- @width@ :=
The width of the player in pixels (OK, pourcentage works also…).
*default:* @100%@
*valid:* Integer =:
- @height@ :=
The height of the player in pixels (if @visual="true"@ Soundcloud width is usually @450@).
*default:* @166@
*valid:* Integer =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*default:* none
*valid:* integer:integer =:

h5. Player parameters (aplhabetical order)

- @auto_play@ :=
Whether to play after loading or not.
*default:* @false@
*valid:* @true@ or @false@ =:
- @buying@ :=
Whether to display the _Buy_ button or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @color@ :=
Changes the colour of the user interface elements.
*default:* @ff8800@
*valid:* a hexa color value =:
- @download@ :=
Whether to display the _Download_ button or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @hide_related@ :=
Whether to display related tracks or not.
*default:* @false@
*valid:* @true@ or @false@ =:
- @sharing@ :=
Whether to enable the sharing features or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @show_artwork@ :=
Whether to display the artwork or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @show_comments@ :=
Whether to display comments or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @show_reposts@ :=
Whether to display reposts or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @show_playcount@ :=
Whether to display the playcount or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @show_user@ :=
Whether to display the uploader or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @single_active@ :=
Whether to stop playing while another player is on or not.
*default:* @true@
*valid:* @true@ or @false@ =:
- @start_track@ :=
Specifies the time (in seconds) when the track should start playing.
*default:* @0@
*valid:* an integer =:
- @theme_color@ :=
Changes the color of the player theme.
*default:* @ff3300@
*valid* a hexa color value =:
- @visual@ :=
Whether to display the artwork as a background or not.
*default:* @false@
*valid:* @true@ or @false@ =:

h4(#mixcloud). Mixcloud additional attributes

Recognised values for the @play@ attribute:

* http(s)://(www.)mixcloud.com/…

Most of the following attributes can be set via the _Preferences_ tab; +always prefer plugin "global" prefs to tag related attributes!+

- @width@ :=
The width of the player in pixels (OK, pourcentage works also…).
*Default:* @100%@
*Valid:* integer =:
- @height@ :=
The height of the player in pixels.
*Default:* @400@
*Valid:* integer =:
- @ratio@ :=
The ratio used to calculate the missing value for the width or the height.
*Default:* none
*Valid:* integer:integer =:

h5. Player parameters (aplhabetical order)

notextile. <div class="txp-listtables">

- @autoplay@ :=
Whether to play after loading or not.
*Default:* @0@
*Valid:* @0@ or @1@ =:
- @light@ :=
Enables the light theme.
*Default:* @0@
*Valid:* @0@ or @1@ =:
- @hide_artwork@ :=
Hides the background image.
*Default:* @0@
*Valid:* @0@ or @1@ =:
- @hide_cover@ :=
Hides the cover.
*Default:* @0@
*Valid:* @0@ or @1@ =:
- @mini@ :=
Uses the _mini_ player config.
*Default:* @0@
*Valid:* @0@ or @1@ =:

h3(#oui_if_player). oui_if_player

In addition to oui_player this plugin also comes with oui_if_player, a conditional tag for checking if the video URL is a valid one.

bc. <txp:oui_if_player video="…">
[…]
</txp:oui_if_player>

h4. Attributes

- @play@ :=
An URL or a custom field containing an URL to check against valid video URL schemes.
*Default:* none =:
- @provider@ :=
Check the URL against valid URL schemes of the provided provider.
*Default:* none =:

<hr id="examples" />

h2. Examples

h3. Display a video

Use the prefs values for the @provider@ and/or @play@ attributes.

bc. <txp:oui_player />

Use a video id through the tag attribute.

bc. <txp:oui_player provider="dailymotion" play="x4l8awd" />

Let the plugin find the provider and the video id by providing the video URL.

bc. <txp:oui_player play="https://vimeo.com/155020267" />

h3. Using the conditional tag

bc.. <txp:oui_if_player play="https://vimeo.com/155020267">
    Yes, it is a valid URL pattern for a Youtube, Dailymotion or Vimeo video.
<txp:else />
    No…
</txp:oui_if_player>

p. …or with the provider attribute…

bc.. <txp:oui_if_player provider="vimeo" play="https://vimeo.com/155020267">
    Yes, it is a valid URL pattern for a Vimeo video.
<txp:else />
    No
</txp:oui_if_player>

notextile. <hr id="author" />

h2. Author

"Nicolas Morand":https://twitter.com/NicolasGraph, inspired by "arc_youtube":http://andy-carter.com/txp/arc_youtube and "arc_vimeo":http://andy-carter.com/txp/arc_vimeo by "Andy Carter":http://andy-carter.com.
_Thank you to the Textpattern community and the core team._

notextile. <hr id="licence" />

h2. License

This plugin is distributed under the "MIT licence":https://opensource.org/licenses/MIT.

notextile. </div>
